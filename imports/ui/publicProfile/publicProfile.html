<template name="publicProfile">
  <section class="scroll-container">

    <div class="hero">
      {{#if library.name}}
        <h2>{{library.name}}</h2>
      {{/if}}

      {{#if library.organization}}
        <h5>{{library.organization}}</h5>
      {{/if}}

      <p class="row">
        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
          {{#if library.email}}
            <p>
              <span class="glyphicon glyphicon-envelope pad-right-sm"></span>
              <a href="mailto:{{library.email}}">{{library.email}}</a>
            </p>
          {{/if}}
          {{#if library.phone}}
          <p>
            <span class="glyphicon glyphicon-earphone pad-right-sm"></span>
            <a href="call:{{library.phone}}">{{library.phone}}</a>
          </p>
          {{/if}}
        </div>

        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
          {{#if inlineAddress library.address}}
          <p>
            <span class="glyphicon glyphicon-map-marker pad-right-sm"></span>
            <span>{{inlineAddress library.address}}</span>
          </p>
          {{/if}}
          {{#if library.notes}}
          <p>
            <span class="glyphicon glyphicon-comment pad-right-sm"></span>
            <span>{{library.notes}}</span>
          </p>
          {{/if}}
        </div>
      </p>
    </div>

    <div class="pad">

      {{#each publications}}
        <div class="card flex-row open-publication">
          <div class="flex-max">
            <div class="card-left-top">
              <span>{{maxLength title 30}}</span>
              {{#if subtitle}}
                <small>· {{maxLength subtitle 30}}</small>
              {{/if}}
            </div>
            <div class="card-left-bottom">
              <b>{{type}}</b>
              <span> · {{author}}</span>
              {{#if publisher}}
                <span>({{publisher}})</span>
              {{/if}}
            </div>
          </div>

          <div class="flex-column flex-self-stretch">
            <div class="card-right-top flex-max">
              {{#if le 1 rating}}
                <span class="glyphicon glyphicon-star text-icon text-primary"></span>
              {{/if}}
              {{#if le 2 rating}}
                <span class="glyphicon glyphicon-star text-icon text-primary"></span>
              {{/if}}
              {{#if le 3 rating}}
                <span class="glyphicon glyphicon-star text-icon text-primary"></span>
              {{/if}}
              {{#if le 4 rating}}
                <span class="glyphicon glyphicon-star text-icon text-primary"></span>
              {{/if}}
              {{#if le 5 rating}}
                <span class="glyphicon glyphicon-star text-icon text-primary"></span>
              {{/if}}
            </div>
            <div class="card-right-bottom">
              {{#if isRented this}}
                <span class="text-primary">is rented</span>
              {{else}}
                <span>available</span>
              {{/if}}
            </div>
          </div>
        </div>
      {{/each}}

    </div>
  </section>
</template>
