<template name="rentList">
  <section>
    <header class="flex-row">
      <button type="button" class="glyphicon glyphicon-menu-hamburger sidebar-toggle lg-screen-hide"></button>
      <form class="search flex-max flex-row">
        <input class="flex-max" type="text" placeholder="Search" name="searchValue">
        <button type="submit" class="glyphicon glyphicon-search"></button>
      </form>
    </header>

    <div class="pad">
      {{#each rentedPublications}}
      <!--  TODO: visualize overdue returns -->
        <div class="card flex-row open-publication pointer" data-id={{_id}}>
          <div class="flex-max">
            <div class="card-left-top">
              <span>{{maxLength title 30}}</span>
              {{#if subtitle}}
                <small>· {{maxLength subtitle 30}}</small>
              {{/if}}
            </div>
            <div class="card-left-bottom">
              <b>{{type}}</b>
              <span> · {{author}}</span>
              {{#if publisher}}
                <span>({{publisher}})</span>
              {{/if}}
            </div>
          </div>

          <div>
            {{#if eq rent.extended false}}
              <div class="btn btn-sm btn-warning publication-extend" data-id={{_id}}>Extend</div>
            {{/if}}
            <div class="btn btn-sm btn-primary publication-return" data-id={{_id}}>Return</div>
          </div>
        </div>
      {{/each}}

      {{#if rentedPublications.count}}
      {{else}}
        <p class="pad text-center">No publications are rented</p>
      {{/if}}
    </div>
  </section>
</template>
