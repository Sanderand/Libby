<template name="patronList">
  <section>
    <header class="flex-row">
      <button type="button" class="glyphicon glyphicon-menu-hamburger sidebar-toggle lg-screen-hide"></button>
      <form class="search flex-max flex-row">
        <input class="flex-max" type="text" placeholder="Search" name="searchValue">
        <button type="submit" class="glyphicon glyphicon-search"></button>
      </form>
    </header>

    <div class="pad">
      <a class="fab-btn text-primary text-primary-hover" href="/app/patrons/new">
        <span class="glyphicon glyphicon-plus-sign"></span>
      </a>

      {{#each patrons}}
        <div class="card flex-row open-patron pointer" data-id={{_id}}>
          <div class="flex-max">
            <div class="card-left-top">
              {{maxLength first_name 20}} {{maxLength last_name 20}}
            </div>
            <div class="card-left-bottom">
              <span>{{phone}}</span>
              {{#if phone}}
                {{#if email}}
                  <span> Â· </span>
                {{/if}}
              {{/if}}
              <span>{{email}}</span>
            </div>
          </div>

          <div class="flex-column flex-self-stretch">
            <div class="card-right-top flex-max">
              {{#if notes}}
                <span class="glyphicon glyphicon-comment text-icon text-primary"></span>
              {{/if}}
            </div>
            <div class="card-right-bottom">
              <span>{{inlineAddress address}}</span>
            </div>
          </div>
        </div>
      {{/each}}
    </div>
  </section>
</template>
